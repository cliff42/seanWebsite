{"remainingRequest":"/Users/chris/Documents/GitHub/seanWebsite/app/node_modules/babel-loader/lib/index.js!/Users/chris/Documents/GitHub/seanWebsite/app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/chris/Documents/GitHub/seanWebsite/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chris/Documents/GitHub/seanWebsite/app/src/views/Trends.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chris/Documents/GitHub/seanWebsite/app/src/views/Trends.vue","mtime":1611907808295},{"path":"/Users/chris/Documents/GitHub/seanWebsite/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chris/Documents/GitHub/seanWebsite/app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/chris/Documents/GitHub/seanWebsite/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chris/Documents/GitHub/seanWebsite/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2NocmlzL0RvY3VtZW50cy9HaXRIdWIvc2VhbldlYnNpdGUvYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgcmVmIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1RyZW5kcycsCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIGRhdGEgPSByZWYoW10pOwogICAgdmFyIHhMYWJlbHMgPSByZWYoW10pOyAvLyBnZXQgbGFzdCAzMCBkYXlzCgogICAgZnVuY3Rpb24gZ2V0TGFzdERheXMoKSB7CiAgICAgIHZhciBkYXRlcyA9IFtdOwogICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDMwOyArK2kpIHsKICAgICAgICBkYXRlcy5wdXNoKGRhdGUuZ2V0TW9udGgoKSArIDEgKyAnLScgKyBkYXRlLmdldERhdGUoKSk7CiAgICAgICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpIC0gMSk7CiAgICAgIH0KCiAgICAgIHhMYWJlbHMudmFsdWUgPSBkYXRlcy5yZXZlcnNlKCk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0VHJlbmRzKCkgewogICAgICByZXR1cm4gX2dldFRyZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIGZ1bmN0aW9uIF9nZXRUcmVuZHMoKSB7CiAgICAgIF9nZXRUcmVuZHMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlLCBpLCBzdWJyZWRkaXQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjQwMDAvdGltZVNlcmllc1N0YXRpYycpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBpID0gMDsKCiAgICAgICAgICAgICAgICBmb3IgKHN1YnJlZGRpdCBpbiByZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgIGRhdGEudmFsdWUucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgZGF0YTogcmVzcG9uc2UuZGF0YVtzdWJyZWRkaXRdLAogICAgICAgICAgICAgICAgICAgIHNtb290aDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdsaW5lLWNsYXNzLScgKyBpCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICArK2k7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CiAgICAgIHJldHVybiBfZ2V0VHJlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgZ2V0VHJlbmRzKCk7CiAgICBnZXRMYXN0RGF5cygpOwogICAgcmV0dXJuIHsKICAgICAgZGF0YTogZGF0YSwKICAgICAgeExhYmVsczogeExhYmVscwogICAgfTsKICB9Cn07"},{"version":3,"sources":["Trends.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAoBA,SAAA,GAAA,QAAA,sBAAA;AACA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,KAFA,mBAEA;AACA,QAAA,IAAA,GAAA,GAAA,CAAA,EAAA,CAAA;AACA,QAAA,OAAA,GAAA,GAAA,CAAA,EAAA,CAAA,CAFA,CAGA;;AAEA,aAAA,WAAA,GAAA;AACA,UAAA,KAAA,GAAA,EAAA;AACA,UAAA,IAAA,GAAA,IAAA,IAAA,EAAA;;AAEA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,EAAA,EAAA,EAAA,CAAA,EAAA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,QAAA,KAAA,CAAA,GAAA,GAAA,GAAA,IAAA,CAAA,OAAA,EAAA;AACA,QAAA,IAAA,CAAA,OAAA,CAAA,IAAA,CAAA,OAAA,KAAA,CAAA;AACA;;AACA,MAAA,OAAA,CAAA,KAAA,GAAA,KAAA,CAAA,OAAA,EAAA;AACA;;AAdA,aAgBA,SAhBA;AAAA;AAAA;;AAAA;AAAA,2EAgBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,GAAA,CAAA,wCAAA,CADA;;AAAA;AACA,gBAAA,QADA;AAGA,gBAAA,CAHA,GAGA,CAHA;;AAIA,qBAAA,SAAA,IAAA,QAAA,CAAA,IAAA,EAAA;AACA,kBAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA;AACA,oBAAA,IAAA,EAAA,QAAA,CAAA,IAAA,CAAA,SAAA,CADA;AAEA,oBAAA,MAAA,EAAA,IAFA;AAGA,oBAAA,SAAA,EAAA,gBAAA;AAHA,mBAAA;AAKA,oBAAA,CAAA;AACA;;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAhBA;AAAA;AAAA;;AA8BA,IAAA,SAAA;AACA,IAAA,WAAA;AAEA,WAAA;AACA,MAAA,IAAA,EAAA,IADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAAA;AAIA;AAvCA,CAAA","sourcesContent":["<template>\n  <div class=\"trends\">\n    <h1>Trends</h1>\n      <TrendChart class=\"chart\"\n      :interactive=\"true\"\n      :datasets=\"data\"\n      :grid=\"{\n        horizontalLines: true\n      }\"\n      :labels='{\n        xLabels: xLabels,\n        yLabels: 10\n      }'\n      :min=\"0\">\n    </TrendChart>\n    <h5>Date</h5>\n  </div>\n</template>\n\n<script>\nimport { ref } from '@vue/composition-api';\nimport axios from 'axios';\n\nexport default {\n  name: 'Trends',\n  setup() {\n    const data = ref([]);\n    const xLabels = ref([]);\n    // get last 30 days\n\n    function getLastDays() {\n      const dates = [];\n      let date = new Date();\n\n      for (let i=0; i < 30; ++i) {\n        dates.push((date.getMonth()+1) + '-' + date.getDate());\n        date.setDate(date.getDate() - 1); \n      }\n      xLabels.value = dates.reverse();\n    }\n\n    async function getTrends() {\n      const response = await axios.get('http://localhost:4000/timeSeriesStatic');\n\n      let i = 0;\n      for (let subreddit in response.data) {\n        data.value.push({\n          data: response.data[subreddit],\n          smooth: true,\n          className: 'line-class-' + i\n        });\n        ++i;\n      }\n    }\n\n    getTrends();\n    getLastDays();\n\n    return {\n      data,\n      xLabels\n    };\n  }\n}\n</script>\n\n<style>\n.trends h2 {\n  font-weight: bold;\n}\n\n.trends {\n  display: flex;\n  padding: 50px;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n}\n\n.chart {\n  height: 500px;\n}\n\n.line-class-0 .stroke {\n  stroke: #f69119;\n  stroke-width: 2;\n}\n\n.line-class-1 .stroke {\n  stroke: #7fdfd4;\n  stroke-width: 2;\n}\n\n.line-class-2 .stroke {\n  stroke: #fbe1b6;\n  stroke-width: 2;\n}\n\n.y-axis {\n  display: flex;\n  vertical-align: text-top;\n}\n</style>\n"],"sourceRoot":"src/views"}]}